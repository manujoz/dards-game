# Shanghai

## Visión General

Shanghai es un juego de precisión secuencial donde en cada ronda solo cuenta un número específico de la diana. Existe una condición de victoria instantánea especial llamada "Shanghai" que añade emoción al juego.

## Configuración

### Duración de la Partida

- **7 rondas**: Números del 1 al 7 (por defecto)
- **20 rondas**: Números del 1 al 20 (partida completa)

### Progresión

- **Ronda 1**: Solo cuenta el número 1
- **Ronda 2**: Solo cuenta el número 2
- **Ronda 3**: Solo cuenta el número 3
- Y así sucesivamente...

## Sistema de Puntuación

### Número Activo

En cada ronda, **solo los impactos en el número correspondiente** suman puntos:

- Todos los demás números puntúan **0**
- Los puntos se calculan: Valor del número × Multiplicador
- Los puntos se acumulan en tu marcador total

**Ejemplo en Ronda 3:**

- 3 Simple = 3 puntos
- 3 Doble = 6 puntos
- 3 Triple = 9 puntos
- 19 Triple = 0 puntos (número incorrecto)

## Cómo Ganar

Hay **dos formas de ganar** en Shanghai:

### 1. Victoria por Puntuación (Normal)

Después de completar todas las rondas, el jugador con la **puntuación total más alta** gana.

### 2. Victoria Shanghai (Instantánea)

Si en un **mismo turno** aciertas las tres zonas del número activo:

- Un **Simple**
- Un **Doble**
- Un **Triple**

El juego termina inmediatamente y **ganas**, sin importar tu puntuación ni la ronda en la que estés.

## Reglas Especiales

### Condición Shanghai

- El **orden** de los impactos no importa (Simple-Doble-Triple, Triple-Simple-Doble, etc.)
- Los tres impactos deben ser del **número activo** de la ronda
- Deben ocurrir en el **mismo turno** (3 dardos consecutivos)
- La victoria es instantánea: no se completan las rondas restantes

### Última Ronda

Todos los jugadores completan sus turnos en la última ronda, por lo que:

- Si vas perdiendo cuando te toca la ronda 7, aún puedes ganar
- Puedes remontar con una puntuación alta o acertando un Shanghai

## Ejemplos de Juego

### Ejemplo 1: Puntuación estándar

**Configuración**: 7 rondas  
**Situación**: Ronda 2 (objetivo: número 2). Puntuación actual: 10

**Turno:**

1. **Primer dardo**: 2 Triple → +6 puntos
2. **Segundo dardo**: 2 Simple → +2 puntos
3. **Tercer dardo**: 19 Simple → 0 puntos (número incorrecto)

**Resultado**: Tu puntuación es ahora **18**. Se avanza a la Ronda 3.

---

### Ejemplo 2: Victoria Shanghai

**Configuración**: 7 rondas  
**Situación**: Ronda 5 (objetivo: número 5). Vas perdiendo 20 a 100

**Turno:**

1. **Primer dardo**: 5 Simple → Conseguido ✓
2. **Segundo dardo**: 5 Triple → Conseguido ✓
3. **Tercer dardo**: 5 Doble → Conseguido ✓

**Resultado**: Has completado el Shanghai. **¡Victoria instantánea!** El juego termina inmediatamente.

---

### Ejemplo 3: Shanghai fallido

**Configuración**: 7 rondas  
**Situación**: Ronda 4 (objetivo: número 4)

**Turno:**

1. **Primer dardo**: 4 Simple → Conseguido ✓
2. **Segundo dardo**: 4 Doble → Conseguido ✓
3. **Tercer dardo**: 4 Simple → Impacto duplicado (ya tenías simple)

**Resultado**: No es Shanghai (necesitas Simple + Doble + Triple). Sumas 4 + 8 + 4 = **16 puntos**. El juego continúa normalmente.
